<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Home Property | Properties</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="../img/favicon.ico" type="image/x-icon">

    <!--Scripts-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="../Scripts/ajaxCalls.js"></script>


    <link href="../css/theme-color/default-theme.css" rel="stylesheet" />
    <link href="../css/bootstrap.css" rel="stylesheet" />
    <link href="../css/font-awesome.css" rel="stylesheet" />
    <link href="../css/jquery.fancybox.css" rel="stylesheet" />
    <link href="../css/nouislider.css" rel="stylesheet" />
    <link href="../css/slick.css" rel="stylesheet" />
    <script src="../Scripts/nouislider.js"></script>


    <script src="../js/jquery.min.js"></script>
    <script src="../js/popper.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/main.js"></script>



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <script src="../Scripts/ajaxCalls.js"></script>



    <!-- Google Font -->
    <link href='https://fonts.googleapis.com/css?family=Vollkorn' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="https://demos.jquerymobile.com/1.4.2/css/themes/default/jquery.mobile-1.4.2.min.css">
    <script src="https://demos.jquerymobile.com/1.4.2/js/jquery.js"></script>

    <script src="https://demos.jquerymobile.com/1.4.2/js/jquery.mobile-1.4.2.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.css">

    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.js"></script>

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.css">

    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.js"></script>

    <!--<link href="../css/range.css" rel="stylesheet" />-->
    <link href="../css/properties.css" rel="stylesheet" />
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,700' rel='stylesheet' type='text/css'>

    <!--<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">-->
    <!--<link rel="stylesheet" href="../css/style1.css">-->

    <script src="http://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js" defer></script>


    <style>
        @media (min-width: 200px) {
            
            ul {
                display: none;
            }

            td, th {
                display: table-cell !important;
            }

            td, th, div {
                width: 330px;
            }

                td + td, th + th,div {
                    width: auto;
                }
        }

        .tbl {
            width: 80%;
            margin: auto;
            padding-bottom: 250px;
        }
        #tblContainer{
            padding-top:500px;
        }
        .button-19 {
            appearance: button;
            background-color: #1899D6;
            border: solid transparent;
            border-radius: 16px;
            border-width: 0 0 4px;
            box-sizing: border-box;
            color: #FFFFFF;
            cursor: pointer;
            display: inline-block;
            font-family: din-round,sans-serif;
            font-size: 15px;
            font-weight: 700;
            letter-spacing: .8px;
            line-height: 20px;
            margin: 0;
            outline: none;
            overflow: visible;
            padding: 13px 16px;
            text-align: center;
            text-transform: uppercase;
            touch-action: manipulation;
            transform: translateZ(0);
            transition: filter .2s;
            user-select: none;
            -webkit-user-select: none;
            vertical-align: middle;
            white-space: nowrap;
            width: 100%;
        }

            .button-19:after {
                background-clip: padding-box;
                background-color: #1CB0F6;
                border: solid transparent;
                border-radius: 16px;
                border-width: 0 0 4px;
                bottom: -4px;
                content: "";
                left: 0;
                position: absolute;
                right: 0;
                top: 0;
                z-index: -1;
            }

            .button-19:main,
            .button-19:focus {
                user-select: auto;
            }

            .button-19:hover:not(:disabled) {
                filter: brightness(1.1);
                -webkit-filter: brightness(1.1);
            }

            .button-19:disabled {
                cursor: auto;
            }
            #btndiv{
                margin-left:40%;
                display:inline-flex;
            }
                 
    </style>

    <script>
        $(document).ready(function () {
            $("#logOut").click(function () {

                var myWindow = window.open("index.html", "ModalPopUp", "width=1000,height=1000");
                document.getElementsByTagName('html')[0].remove();
                return false;
            });
            
            $("#userDiv").hide();
            $("#hostDiv").hide();
            $("#aptDiv").hide();
            wire();
            //Get the data we need through AjaxCalls
            $.ajax({
                url: "../api/UserInfo/Getinfo",
                type: 'Get',
                success: Userinfosec,
                error: Usererror
            });

            $.ajax({
                url: "../api/HostInfo/Getinfo",
                type: 'Get',
                success: Hostinfosec,
                error: Hosterror
            });

            $.ajax({
                url: "../api/AptInfo/Getinfo",
                type: 'Get',
                success: Aptinfosec,
                error: Apterror
            });
        });

        function wire() { //Shows the clicked div (and hides the rest)
            $("#btnUser").on("click", function () {
                $("#userDiv").show();
            $("#hostDiv").hide();
            $("#aptDiv").hide();
            });

            $("#btnHost").on("click", function () {
                $("#userDiv").hide();
                $("#hostDiv").show();
                $("#aptDiv").hide();
            });

            $("#btnApt").on("click", function () {
                $("#userDiv").hide();
                $("#hostDiv").hide();
                $("#aptDiv").show();
            });
        }  

        //User's info DataTable
        function Userinfosec(userinfodata) {
            try { //Try-Catch block + the data we need
                usertbl = $('#usertbl').DataTable({
                    data: userinfodata,
                    pageLength: 10,
                    columns: [
                        { data: "Email" },
                        { data: "SignedFrom" },
                        { data: "RentNum" },
                        { data: "TotalPayments" },
                        { data: "CancelationCounter" },
                    ],
                });
            }
            catch (err) {
                alert(err);
            }
        }

        function Usererror(err) {
            alert("user error");
        }

        //Host's info DataTable
        function Hostinfosec(hostinfodata) {
            try {
                hosttbl = $('#hosttbl').DataTable({
                    data: hostinfodata,
                    pageLength: 10,
                    columns: [
                        { data: "HostId" },
                        { data: "HostSince" },
                        { data: "NumOfApartments" },
                        { data: "TotalIncome" },
                        { data: "TotalcanCelation" },
                    ],
                });
            }
            catch (err) {
                alert(err);
            }
        }

        function Hosterror(err) {
            alert("Host error");
        }

        //Apartment info DataTable
        function Aptinfosec(aptinfodata) {
            try {
                aptTbl = $('#apttbl').DataTable({
                    data: aptinfodata,
                    pageLength: 10,
                    columns: [
                        { data: "AptId" },
                        { data: "RentDays" },
                        { data: "TotalCancelation" },
                    ],
                });
            }
            catch (err) {
                alert(err);
            }
        }

        function Apterror(err) {
            alert("Apt error");
        }
    </script>
</head>

<body class="aa-price-range">
    <!-- Pre Loader -->
    <div id="aa-preloader-area">
        <div class="pulse"></div>
    </div>
    <!-- SCROLL TOP BUTTON -->
    <a class="scrollToTop" href="#"><i class="fa fa-angle-double-up"></i></a>
    <!-- END SCROLL TOP BUTTON -->
    <!-- Start header section -->
    <header id="aa-header">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="aa-header-area">
                        <div class="row">
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                
                            </div>
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <div class="aa-header-right">
                                 

                                    <a href="" class="aa-login" id="logOut">LogOut</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- End header section -->
    <!-- Start menu section -->
    <section id="aa-menu-area">
        <nav class="navbar navbar-default main-navbar" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <!-- FOR MOBILE VIEW COLLAPSED BUTTON -->
                    
                    <!-- LOGO -->
                    <!-- Text based logo -->
                    <a class="navbar-brand aa-logo" href=""> Home <span>Property</span></a>
                    <!-- Image based logo -->
                    <!-- <a class="navbar-brand aa-logo-img" href="index.html"><img src="img/logo.png" alt="logo"></a> -->
                </div>
                <div id="navbar" class="navbar-collapse collapse">
                    <ul id="top-menu" class="nav navbar-nav navbar-right aa-main-nav">
                        <li><a href="index.html">HOME</a></li>
                        <li class="dropdown active">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="properties.html">PROPERTIES <span class="caret"></span></a>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="properties.html">PROPERTIES</a></li>
                                <li><a href="properties-detail.html">PROPERTIES DETAIL</a></li>
                            </ul>
                        </li>
                        <li><a href="gallery.html">GALLERY</a></li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="blog-archive.html">BLOG <span class="caret"></span></a>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="blog-archive.html">BLOG</a></li>
                                <li><a href="blog-single.html">BLOG DETAILS</a></li>
                            </ul>
                        </li>
                        <li><a href="contact.html">CONTACT</a></li>
                        <li><a href="404.html">404 PAGE</a></li>
                    </ul>
                </div><!--/.nav-collapse -->
            </div>
        </nav>
    </section>
    <!-- End menu section -->
    <!-- Start Proerty header  -->
 
    <section id="aa-property-header">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="aa-property-header-inner">
                        <h2>ADMIN AREA</h2>
                        <ol class="breadcrumb">
                            <li><a href="#">HOME</a></li>
                            <li class="active">ADMIN AREA</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        <br />
        <br />
        <br />

    </section>

    <div id="tblContainer">
        <div id="btndiv" style="display:inline-flex;margin-left:30%;padding-bottom:50px">
            <button id="btnUser" class="aa-search-btn" role="button" style="width:200px"> User</button>
            <button id="btnHost" class="aa-search-btn" role="button" style="width:200px"> Host</button>
            <button id="btnApt" class="aa-search-btn" role="button" style="width:200px"> Apartment</button>
        </div>
        <div id="infocontainer">
            <!--User table-->
            <div class="tbl" id="userDiv">
                <div class="table-wrap">
                    <h1></h1>
                    <table id="usertbl" class="table myaccordion table-hover">
                        <thead style="background-color:dimgray; color:white">
                            <tr>
                                <th>User_Email</th>
                                <th>Registered_Since</th>
                                <th>Total_Rents</th>
                                <th>Total_Profit</th>
                                <th>Cancelations</th>
                            </tr>
                        </thead>
                        <tbody> </tbody>
                    </table>
                </div>
            </div>
            <!--Host table-->
            <div class="tbl" id="hostDiv">
                <div class="table-wrap">
                    <table id="hosttbl" class="table myaccordion table-hover">
                        <thead style="background-color:dimgray; color:white">
                            <tr>
                                <th> Id</th>
                                <th>Host Since</th>
                                <th>Properties Owned</th>
                                <th>Total Income</th>
                                <th>Cancelations</th>


                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
            <!--Apartment table-->
            <div class="tbl" id="aptDiv">
                <div class="table-wrap" style="overflow-x:auto" ;>
                    <table id="apttbl" class="table myaccordion table-hover">
                        <thead style="background-color:dimgray; color:white">
                            <tr>
                                <th>Appartment Id</th>
                                <th>Rent Days</th>
                                <th>Total Cancelation</th>
                            </tr>
                        </thead>
                        <tbody> </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- jQuery library -->
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> -->
    <script src="../js/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../js/bootstrap.js"></script>
    <!-- slick slider -->
    <script type="text/javascript" src="../js/slick.js"></script>
    <!-- Price picker slider -->
    <script type="text/javascript" src="../js/nouislider.js"></script>
    <!-- mixit slider -->
    <script type="text/javascript" src="../js/jquery.mixitup.js"></script>
    <!-- Add fancyBox -->
    <script type="text/javascript" src="../js/jquery.fancybox.pack.js"></script>
    <!-- Custom js -->
    <script src="../js/custom.js"></script>

</body>